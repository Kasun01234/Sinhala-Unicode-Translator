<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Singlish to English & Sinhala Unicode Translator</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
            animation: fadeInUp 0.8s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .header h1 {
            font-size: 2.5em;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            }
            to {
                text-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
            }
        }

        .translator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .input-section, .output-section {
            background: rgba(255, 255, 255, 0.15);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .input-section:hover, .output-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .section-title {
            font-size: 1.3em;
            color: white;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 600;
        }

        .text-area {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.9);
            font-size: 16px;
            resize: vertical;
            transition: all 0.3s ease;
        }

        .text-area:focus {
            outline: none;
            border-color: #4CAF50;
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.4);
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(45deg, #2196F3, #0b7dda);
            color: white;
        }

        .btn-accent {
            background: linear-gradient(45deg, #FF9800, #e68900);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .advanced-options {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .option-group {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .option-title {
            color: white;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
        }

        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #4CAF50;
        }

        .select-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .select-group select {
            padding: 8px 12px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.9);
            font-size: 14px;
        }

        .copy-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .copy-btn {
            padding: 8px 16px;
            background: linear-gradient(45deg, #9C27B0, #673AB7);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }

        .status-message {
            text-align: center;
            padding: 10px;
            margin: 10px 0;
            border-radius: 10px;
            font-weight: 600;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .status-success {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
            border: 1px solid #4CAF50;
        }

        .status-error {
            background: rgba(244, 67, 54, 0.2);
            color: #f44336;
            border: 1px solid #f44336;
        }

        .unicode-display {
            font-family: 'Noto Sans Sinhala', Arial, sans-serif;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            min-height: 150px;
            font-size: 18px;
            line-height: 1.6;
            word-wrap: break-word;
        }

        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .theme-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .theme-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .theme-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        @media (max-width: 768px) {
            .translator-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }

        .rainbow-text {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #ffeaa7, #dda0dd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: rainbow 3s ease-in-out infinite;
        }

        @keyframes rainbow {
            0%, 100% { filter: hue-rotate(0deg); }
            50% { filter: hue-rotate(180deg); }
        }

        .pulse-animation {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Sinhala:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="floating-particles" id="particles"></div>
    
    <div class="theme-switcher">
        <button class="theme-btn" onclick="switchTheme()">üåô Dark Mode</button>
    </div>

    <div class="container">
        <div class="header">
            <h1 class="rainbow-text">Singlish to English & Sinhala Unicode Translator</h1>
            <p style="color: white; opacity: 0.9; margin-top: 10px;">Advanced translation with Unicode support and modern features</p>
        </div>

        <div class="translator-grid">
            <div class="input-section">
                <div class="section-title">üìù Input Text (Singlish)</div>
                <textarea 
                    class="text-area" 
                    id="inputText" 
                    placeholder="Enter your Singlish text here... (e.g., 'Ayubowan, kohomada?')"
                    oninput="liveTranslate()"
                ></textarea>
                <div class="copy-section">
                    <span style="color: white; font-size: 14px;">Input Characters: <span id="inputCount">0</span></span>
                    <button class="copy-btn" onclick="copyText('inputText')">üìã Copy Input</button>
                </div>
            </div>

            <div class="output-section">
                <div class="section-title">üî§ English Translation</div>
                <div class="text-area unicode-display" id="englishOutput">English translation will appear here...</div>
                <div class="copy-section">
                    <span style="color: white; font-size: 14px;">Translation Status: <span id="translationStatus">Ready</span></span>
                    <button class="copy-btn" onclick="copyText('englishOutput')">üìã Copy English</button>
                </div>
            </div>
        </div>

        <div class="translator-grid">
            <div class="output-section">
                <div class="section-title">üá±üá∞ Sinhala Unicode</div>
                <div class="text-area unicode-display" id="sinhalaOutput">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω ‡∂∫‡∑î‡∂±‡∑í‡∂ö‡∑ù‡∂©‡∑ä ‡∂¥‡∑ô‡∑Ö ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂Ø‡∑í‡∑É‡∑ä‡∑Ä‡∑ö...</div>
                <div class="copy-section">
                    <span style="color: white; font-size: 14px;">Unicode Format: <span id="unicodeFormat">UTF-8</span></span>
                    <button class="copy-btn" onclick="copyText('sinhalaOutput')">üìã Copy Sinhala</button>
                </div>
            </div>

            <div class="output-section">
                <div class="section-title">üî¢ Unicode Values</div>
                <div class="text-area unicode-display" id="unicodeValues">Unicode code points will appear here...</div>
                <div class="copy-section">
                    <span style="color: white; font-size: 14px;">Encoding: <span id="encodingType">Unicode</span></span>
                    <button class="copy-btn" onclick="copyText('unicodeValues')">üìã Copy Unicode</button>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="btn btn-primary pulse-animation" onclick="translateText()">üöÄ Translate Now</button>
            <button class="btn btn-secondary" onclick="clearAll()">üóëÔ∏è Clear All</button>
            <button class="btn btn-accent" onclick="swapLanguages()">üîÑ Swap Languages</button>
            <button class="btn btn-secondary" onclick="speakText()">üîä Speak</button>
        </div>

        <div class="advanced-options">
            <div class="section-title">‚öôÔ∏è Advanced Options</div>
            <div class="options-grid">
                <div class="option-group">
                    <div class="option-title">Translation Settings</div>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="liveTranslation" checked>
                            <label for="liveTranslation">Live Translation</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="preserveFormatting" checked>
                            <label for="preserveFormatting">Preserve Formatting</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="showUnicode" checked>
                            <label for="showUnicode">Show Unicode Values</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="autoCorrect">
                            <label for="autoCorrect">Auto-correct Spelling</label>
                        </div>
                    </div>
                </div>

                <div class="option-group">
                    <div class="option-title">Display Options</div>
                    <div class="select-group">
                        <select id="fontFamily" onchange="changeFontFamily()">
                            <option value="Noto Sans Sinhala">Noto Sans Sinhala</option>
                            <option value="Iskoola Pota">Iskoola Pota</option>
                            <option value="FM Malithi">FM Malithi</option>
                            <option value="Dharma Gothic">Dharma Gothic</option>
                        </select>
                        <select id="fontSize" onchange="changeFontSize()">
                            <option value="16">16px</option>
                            <option value="18" selected>18px</option>
                            <option value="20">20px</option>
                            <option value="22">22px</option>
                            <option value="24">24px</option>
                        </select>
                    </div>
                </div>

                <div class="option-group">
                    <div class="option-title">Export Options</div>
                    <div class="checkbox-group">
                        <button class="btn btn-secondary" onclick="exportToPDF()">üìÑ Export PDF</button>
                        <button class="btn btn-secondary" onclick="exportToJSON()">üìä Export JSON</button>
                        <button class="btn btn-secondary" onclick="exportToTXT()">üìù Export TXT</button>
                    </div>
                </div>

                <div class="option-group">
                    <div class="option-title">Language Detection</div>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="autoDetect" checked>
                            <label for="autoDetect">Auto-detect Language</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="mixedLanguage">
                            <label for="mixedLanguage">Mixed Language Support</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="status-message" id="statusMessage"></div>
    </div>

    <script>
        // Singlish to English dictionary
        const singlishDict = {
            'ayubowan': 'hello/greetings',
            'hai': 'hi',
            'mata': 'to me',
            'kohomada': 'how are you',
            'hoda': 'good/okay',
            'mama': 'I/me',
            'oya': 'you',
            'api': 'we',
            'eyalara': 'to them',
            'meka': 'this',
            'eka': 'that',
            'mokakda': 'what',
            'koheda': 'where',
            'kawda': 'who',
            'kiyanna': 'to say',
            'enna': 'to come',
            'yanna': 'to go',
            'kanna': 'to eat',
            'bonawa': 'to drink',
            'hadanna': 'to make',
            'gahanna': 'to hit',
            'natanna': 'to dance',
            'katha karanna': 'to talk',
            'adarei': 'love you',
            'mama adarei': 'I love you',
            'stutiyi': 'thank you',
            'samawenna': 'sorry',
            'mama yanna ona': 'I want to go',
            'mama kanna ona': 'I want to eat',
            'mokada karanne': 'what are you doing',
            'katha karamu': 'let\'s talk',
            'yanawa': 'going',
            'enawa': 'coming',
            'kanawa': 'eating',
            'bonawa': 'drinking',
            'nidaganawa': 'sleeping',
            'uta ganawa': 'cooking',
            'liyanna': 'to write',
            'kiyana': 'reading',
            'duwanawa': 'running',
            'inne': 'staying/being',
            'thiyenawa': 'having',
            'penawa': 'showing',
            'ahanna': 'to listen',
            'balanna': 'to look',
            'genenna': 'to bring',
            'araganna': 'to take',
            'danna': 'to put',
            'illanna': 'to ask',
            'kiyanna': 'to tell',
            'hoyanna': 'to find',
            'mathaka': 'remember',
            'amaruwa': 'forget',
            'harima': 'very',
            'godak': 'very much',
            'tikak': 'a little',
            'hemadama': 'always',
            'naehe': 'no',
            'ow': 'yes',
            'epa': 'don\'t want',
            'ona': 'want',
            'puluwanda': 'can you',
            'berida': 'can\'t',
            'danna': 'know',
            'danne epa': 'don\'t know',
            'itin': 'then',
            'dan': 'now',
            'adayi': 'today',
            'heta': 'tomorrow',
            'iye': 'yesterday',
            'raathriya': 'night',
            'udaya': 'morning',
            'sanje': 'evening',
            'dawasa': 'day',
            'masa': 'month',
            'awruddha': 'year',
            'gaha': 'tree',
            'mal': 'flower',
            'wathura': 'water',
            'bhat': 'rice',
            'kiri': 'milk',
            'paan': 'bread',
            'mas': 'meat',
            'machang': 'fish',
            'kola': 'leaves',
            'pala': 'fruit',
            'gaha': 'tree',
            'weda': 'work',
            'iskole': 'school',
            'gedera': 'house',
            'yahaluwa': 'friend',
            'amma': 'mother',
            'thaththa': 'father',
            'malli': 'younger brother',
            'akka': 'elder sister',
            'ayya': 'elder brother',
            'nangi': 'younger sister',
            'seeya': 'grandfather',
            'achchiya': 'grandmother',
            'balla': 'dog',
            'pusa': 'cat',
            'kurulla': 'bird',
            'hawa': 'air',
            'sanda': 'moon',
            'ira': 'sun',
            'tharu': 'star',
            'walaalu': 'clouds',
            'wasa': 'rain',
            'bagaya': 'sea',
            'ganga': 'river',
            'kanda': 'mountain',
            'weli': 'sand',
            'paya': 'road',
            'rathu': 'red',
            'nil': 'blue',
            'kalu': 'black',
            'sudu': 'white',
            'kaha': 'yellow',
            'kola': 'green',
            'rosa': 'pink',
            'dham': 'brown',
            'wal': 'gray',
            'loku': 'big',
            'podi': 'small',
            'udu': 'tall',
            'koti': 'short',
            'honda': 'good',
            'naraka': 'bad',
            'lassana': 'beautiful',
            'keliya': 'ugly',
            'nawa': 'new',
            'purana': 'old',
            'tadi': 'wet',
            'kalu': 'dry',
            'ussana': 'hot',
            'sita': 'cold',
            'pahasula': 'easy',
            'amaruwa': 'difficult'
        };

        // English to Sinhala dictionary
        const englishSinhalaDict = {
            'hello': '‡∂Ü‡∂∫‡∑î‡∂∂‡∑ù‡∑Ä‡∂±‡∑ä',
            'hi': '‡∑Ñ‡∑è‡∂∫‡∑í',
            'to me': '‡∂∏‡∂ß',
            'greetings': '‡∂Ü‡∂∫‡∑î‡∂∂‡∑ù‡∑Ä‡∂±‡∑ä',
            'how are you': '‡∂ö‡∑ú‡∑Ñ‡∑ú‡∂∏‡∂Ø',
            'good': '‡∑Ñ‡∑ú‡∂≥‡∂∫‡∑í',
            'okay': '‡∑Ñ‡∂ª‡∑í',
            'I': '‡∂∏‡∂∏',
            'me': '‡∂∏‡∂∏',
            'you': '‡∂î‡∂∫‡∑è',
            'we': '‡∂Ö‡∂¥‡∑í',
            'to them': '‡∂í‡∂∫‡∑è‡∂Ω‡∂ß',
            'this': '‡∂∏‡∑ö‡∂ö',
            'that': '‡∂ë‡∂ö',
            'what': '‡∂∏‡∑ú‡∂ö‡∂ö‡∑ä‡∂Ø',
            'where': '‡∂ö‡∑ú‡∑Ñ‡∑ö‡∂Ø',
            'who': '‡∂ö‡∑Ä‡∑ä‡∂Ø',
            'to say': '‡∂ö‡∑í‡∂∫‡∂±‡∑ä‡∂±',
            'to come': '‡∂ë‡∂±‡∑ä‡∂±',
            'to go': '‡∂∫‡∂±‡∑ä‡∂±',
            'to eat': '‡∂ö‡∂±‡∑ä‡∂±',
            'to drink': '‡∂∂‡∑ú‡∂±‡∑ä‡∂±',
            'to make': '‡∑Ñ‡∂Ø‡∂±‡∑ä‡∂±',
            'to hit': '‡∂ú‡∑Ñ‡∂±‡∑ä‡∂±',
            'to dance': '‡∂±‡∂ß‡∂±‡∑ä‡∂±',
            'to talk': '‡∂ö‡∂≠‡∑è ‡∂ö‡∂ª‡∂±‡∑ä‡∂±',
            'love you': '‡∂Ü‡∂Ø‡∂ª‡∑ô‡∂∫‡∑í',
            'I love you': '‡∂∏‡∂∏ ‡∂Ü‡∂Ø‡∂ª‡∑ô‡∂∫‡∑í',
            'thank you': '‡∑É‡∑ä‡∂≠‡∑ñ‡∂≠‡∑í‡∂∫‡∑í',
            'sorry': '‡∑É‡∂∏‡∑è‡∑Ä‡∑ô‡∂±‡∑ä‡∂±',
            'I want to go': '‡∂∏‡∂ß ‡∂∫‡∂±‡∑ä‡∂± ‡∂ï‡∂±',
            'I want to eat': '‡∂∏‡∂ß ‡∂ö‡∂±‡∑ä‡∂± ‡∂ï‡∂±',
            'what are you doing': '‡∂∏‡∑ú‡∂ö‡∂Ø ‡∂ö‡∂ª‡∂±‡∑ä‡∂±‡∑ö',
            'let\'s talk': '‡∂ö‡∂≠‡∑è ‡∂ö‡∂ª‡∂∏‡∑î',
            'going': '‡∂∫‡∂±‡∑Ä‡∑è',
            'coming': '‡∂ë‡∂±‡∑Ä‡∑è',
            'eating': '‡∂ö‡∂±‡∑Ä‡∑è',
            'drinking': '‡∂∂‡∑ú‡∂±‡∑Ä‡∑è',
            'sleeping': '‡∂±‡∑í‡∂Ø‡∑è‡∂ú‡∂±‡∑Ä‡∑è',
            'cooking': '‡∂ã‡∂∫‡∂±‡∑Ä‡∑è',
            'to write': '‡∂Ω‡∑í‡∂∫‡∂±‡∑ä‡∂±',
            'reading': '‡∂ö‡∑í‡∂∫‡∑Ä‡∂±‡∑Ä‡∑è',
            'running': '‡∂Ø‡∑î‡∑Ä‡∂±‡∑Ä‡∑è',
            'staying': '‡∂â‡∂±‡∑ä‡∂±‡∑ö',
            'being': '‡∂â‡∂±‡∑ä‡∂±‡∑ö',
            'having': '‡∂≠‡∑í‡∂∫‡∑ô‡∂±‡∑Ä‡∑è',
            'showing': '‡∂¥‡∑ô‡∂±‡∑ä‡∂±‡∂±‡∑ä‡∂±',
            'to listen': '‡∂Ö‡∑Ñ‡∂±‡∑ä‡∂±',
            'to look': '‡∂∂‡∂Ω‡∂±‡∑ä‡∂±',
            'to bring': '‡∂ú‡∑ô‡∂±‡∑ô‡∂±‡∑ä‡∂±',
            'to take': '‡∂Ö‡∂ª‡∂ú‡∂±‡∑ä‡∂±',
            'to put': '‡∂Ø‡∑è‡∂±‡∑ä‡∂±',
            'to ask': '‡∂â‡∂Ω‡∑ä‡∂Ω‡∂±‡∑ä‡∂±',
            'to tell': '‡∂ö‡∑í‡∂∫‡∂±‡∑ä‡∂±',
            'to find': '‡∑Ñ‡∑ú‡∂∫‡∂±‡∑ä‡∂±',
            'remember': '‡∂∏‡∂≠‡∂ö‡∂∫‡∑í',
            'forget': '‡∂Ö‡∂∏‡∂≠‡∂ö‡∂∫‡∑í',
            'very': '‡∑Ñ‡∂ª‡∑í‡∂∏',
            'very much': '‡∂ú‡∑ú‡∂©‡∂ö‡∑ä',
            'a little': '‡∂ß‡∑í‡∂ö‡∂ö‡∑ä',
            'always': '‡∑Ñ‡∑ê‡∂∏‡∂Ø‡∑è‡∂∏',
            'no': '‡∂±‡∑ë',
            'yes': '‡∂î‡∑Ä‡∑ä',
            'don\'t want': '‡∂ë‡∂¥‡∑è',
            'want': '‡∂ï‡∂±',
            'can you': '‡∂¥‡∑î‡∑Ö‡∑î‡∑Ä‡∂±‡∑ä‡∂Ø',
            'can\'t': '‡∂∂‡∑ê‡∂ª‡∑í‡∂Ø‡∑ä‡∂Ø',
            'know': '‡∂Ø‡∂±‡∑ä‡∂±‡∑Ä‡∑è',
            'don\'t know': '‡∂Ø‡∂±‡∑ä‡∂±‡∑ö ‡∂±‡∑ë',
            'then': '‡∂â‡∂≠‡∑í‡∂±‡∑ä',
            'now': '‡∂Ø‡∑ê‡∂±‡∑ä',
            'today': '‡∂Ö‡∂Ø',
            'tomorrow': '‡∑Ñ‡∑ô‡∂ß',
            'yesterday': '‡∂ä‡∂∫‡∑ö',
            'night': '‡∂ª‡∑è‡∂≠‡∑ä‚Äç‡∂ª‡∑í‡∂∫',
            'morning': '‡∂ã‡∂Ø‡∑ö',
            'evening': '‡∑É‡∂±‡∑ä‡∂∞‡∑ä‚Äç‡∂∫‡∑è‡∑Ä',
            'day': '‡∂Ø‡∑Ä‡∑É',
            'month': '‡∂∏‡∑è‡∑É‡∂∫',
            'year': '‡∂Ö‡∑Ä‡∑î‡∂ª‡∑î‡∂Ø‡∑ä‡∂Ø',
            'tree': '‡∂ú‡∑Ñ',
            'flower': '‡∂∏‡∂Ω‡∑ä',
            'water': '‡∑Ä‡∂≠‡∑î‡∂ª',
            'rice': '‡∂∂‡∂≠‡∑ä',
            'milk': '‡∂ö‡∑í‡∂ª‡∑í',
            'bread': '‡∂¥‡∑è‡∂±‡∑ä',
            'meat': '‡∂∏‡∑É‡∑ä',
            'fish': '‡∂∏‡∑è‡∑Ö‡∑î',
            'leaves': '‡∂ö‡∑ú‡∑Ö',
            'fruit': '‡∂¥‡∑Ö‡∂≠‡∑î‡∂ª‡∑î',
            'work': '‡∑Ä‡∑ê‡∂©',
            'school': '‡∂â‡∑É‡∑ä‡∂ö‡∑ù‡∂Ω‡∑ö',
            'house': '‡∂ú‡∑ô‡∂Ø‡∂ª',
            'friend': '‡∂∫‡∑Ñ‡∑Ö‡∑î‡∑Ä‡∑è',
            'mother': '‡∂Ö‡∂∏‡∑ä‡∂∏‡∑è',
            'father': '‡∂≠‡∑è‡∂≠‡∑ä‡∂≠‡∑è',
            'younger brother': '‡∂∏‡∂Ω‡∑ä‡∂Ω‡∑í',
            'elder sister': '‡∂Ö‡∂ö‡∑ä‡∂ö‡∑è',
            'elder brother': '‡∂Ö‡∂∫‡∑í‡∂∫‡∑è',
            'younger sister': '‡∂±‡∂Ç‡∂ú‡∑í',
            'grandfather': '‡∑É‡∑ì‡∂∫‡∑è',
            'grandmother': '‡∂Ö‡∂†‡∑ä‡∂†‡∑í‡∂∫‡∑è',
            'dog': '‡∂∂‡∂Ω‡∑ä‡∂Ω‡∑è',
            'cat': '‡∂¥‡∑ñ‡∑É‡∑è',
            'bird': '‡∂ö‡∑î‡∂ª‡∑î‡∂Ω‡∑ä‡∂Ω‡∑è',
            'air': '‡∑Ñ‡∑Ä‡∑É',
            'moon': '‡∑É‡∂≥',
            'sun': '‡∂â‡∂ª',
            'star': '‡∂≠‡∂ª‡∑î‡∑Ä',
            'clouds': '‡∑Ä‡∂Ω‡∑è‡∂ö‡∑î‡∑Ö‡∑î',
            'rain': '‡∑Ä‡∑ê‡∑É‡∑ä‡∑É',
            'sea': '‡∂∏‡∑î‡∑Ñ‡∑î‡∂Ø',
            'river': '‡∂ú‡∂ü',
            'mountain': '‡∂ö‡∂±‡∑ä‡∂Ø',
            'sand': '‡∑Ä‡∑ê‡∂Ω‡∑í',
            'road': '‡∂¥‡∑è‡∂ª',
            'red': '‡∂ª‡∂≠‡∑î',
            'blue': '‡∂±‡∑í‡∂Ω‡∑ä',
            'black': '‡∂ö‡∑Ö‡∑î',
            'white': '‡∑É‡∑î‡∂Ø‡∑î',
            'yellow': '‡∂ö‡∑Ñ',
            'green': '‡∂ö‡∑ú‡∑Ö',
            'pink': '‡∂ª‡∑ù‡∑É',
            'brown': '‡∂Ø‡∂∏‡∑ä',
            'gray': '‡∑Ä‡∑ê‡∂Ω‡∑ä',
            'big': '‡∂Ω‡∑ú‡∂ö‡∑î',
            'small': '‡∂¥‡∑ú‡∂©‡∑í',
            'tall': '‡∂ã‡∂©‡∑î',
            'short': '‡∂ö‡∑ú‡∂ß',
            'beautiful': '‡∂Ω‡∑É‡∑ä‡∑É‡∂±',
            'ugly': '‡∂ö‡∑ê‡∑Ö‡∑ê‡∂∫‡∑í',
            'new': '‡∂±‡∑Ä',
            'old': '‡∂¥‡∂ª‡∂´',
            'wet': '‡∂≠‡∑ô‡∂≠‡∑ä',
            'dry': '‡∂ö‡∂ª‡∑Ö‡∑î',
            'hot': '‡∂ã‡∑É‡∑ä‡∑É‡∂±',
            'cold': '‡∑É‡∑ì‡∂≠',
            'easy': '‡∂¥‡∑Ñ‡∑É‡∑î‡∂∫‡∑í',
            'difficult': '‡∂Ö‡∂∏‡∑è‡∂ª‡∑î‡∂∫‡∑í'
        };

        // Initialize particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.width = Math.random() * 6 + 2 + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Theme switching
        let isDarkMode = false;
        function switchTheme() {
            const body = document.body;
            const themeBtn = document.querySelector('.theme-btn');
            
            if (isDarkMode) {
                body.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                themeBtn.textContent = 'üåô Dark Mode';
                isDarkMode = false;
            } else {
                body.style.background = 'linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)';
                themeBtn.textContent = '‚òÄÔ∏è Light Mode';
                isDarkMode = true;
            }
        }

        // Live translation
        function liveTranslate() {
            if (document.getElementById('liveTranslation').checked) {
                translateText();
            }
            updateCharacterCount();
        }

        // Character count
        function updateCharacterCount() {
            const input = document.getElementById('inputText').value;
            document.getElementById('inputCount').textContent = input.length;
        }

        // Main translation function
        function translateText() {
            const inputText = document.getElementById('inputText').value.trim();
            if (!inputText) {
                showStatus('Please enter some text to translate', 'error');
                return;
            }

            document.getElementById('translationStatus').textContent = 'Translating...';
            
            // Simulate translation processing
            setTimeout(() => {
                const englishTranslation = translateSinglishToEnglish(inputText);
                const sinhalaTranslation = translateEnglishToSinhala(englishTranslation);
                
                document.getElementById('englishOutput').textContent = englishTranslation;
                document.getElementById('sinhalaOutput').textContent = sinhalaTranslation;
                
                if (document.getElementById('showUnicode').checked) {
                    displayUnicodeValues(sinhalaTranslation);
                }
                
                document.getElementById('translationStatus').textContent = 'Complete';
                showStatus('Translation completed successfully!', 'success');
            }, 500);
        }

        // Singlish to English translation
        function translateSinglishToEnglish(text) {
            let translation = text.toLowerCase();
            
            // Replace known Singlish words with English equivalents
            for (const [singlish, english] of Object.entries(singlishDict)) {
                const regex = new RegExp('\\b' + singlish + '\\b', 'gi');
                translation = translation.replace(regex, english);
            }
            
            // Basic grammar corrections
            translation = translation.replace(/\bme\b/g, 'I');
            translation = translation.replace(/\bi\b/g, 'I');
            
            return translation.charAt(0).toUpperCase() + translation.slice(1);
        }

        // English to Sinhala translation
        function translateEnglishToSinhala(text) {
            let translation = text.toLowerCase();
            
            // Replace English words with Sinhala equivalents
            for (const [english, sinhala] of Object.entries(englishSinhalaDict)) {
                const regex = new RegExp('\\b' + english + '\\b', 'gi');
                translation = translation.replace(regex, sinhala);
            }
            
            return translation;
        }

        // Display Unicode values
        function displayUnicodeValues(text) {
            let unicodeValues = '';
            for (let i = 0; i < text.length; i++) {
                const char = text[i];
                const unicode = char.charCodeAt(0);
                unicodeValues += `${char} (U+${unicode.toString(16).toUpperCase().padStart(4, '0')}) `;
            }
            document.getElementById('unicodeValues').textContent = unicodeValues;
        }

        // Copy text function
        function copyText(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent || element.value;
            
            navigator.clipboard.writeText(text).then(() => {
                showStatus('Text copied to clipboard!', 'success');
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showStatus('Text copied to clipboard!', 'success');
            });
        }

        // Clear all text
        function clearAll() {
            document.getElementById('inputText').value = '';
            document.getElementById('englishOutput').textContent = 'English translation will appear here...';
            document.getElementById('sinhalaOutput').textContent = '‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω ‡∂∫‡∑î‡∂±‡∑í‡∂ö‡∑ù‡∂©‡∑ä ‡∂¥‡∑ô‡∑Ö ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂Ø‡∑í‡∑É‡∑ä‡∑Ä‡∑ö...';
            document.getElementById('unicodeValues').textContent = 'Unicode code points will appear here...';
            document.getElementById('translationStatus').textContent = 'Ready';
            document.getElementById('inputCount').textContent = '0';
            showStatus('All text cleared', 'success');
        }

        // Swap languages
        function swapLanguages() {
            const inputText = document.getElementById('inputText').value;
            const englishOutput = document.getElementById('englishOutput').textContent;
            
            if (englishOutput !== 'English translation will appear here...') {
                document.getElementById('inputText').value = englishOutput;
                translateText();
                showStatus('Languages swapped!', 'success');
            }
        }

        // Text to speech
        function speakText() {
            const text = document.getElementById('englishOutput').textContent;
            if (text && text !== 'English translation will appear here...') {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                utterance.pitch = 1;
                speechSynthesis.speak(utterance);
                showStatus('Speaking text...', 'success');
            } else {
                showStatus('No text to speak', 'error');
            }
        }

        // Font family change
        function changeFontFamily() {
            const fontFamily = document.getElementById('fontFamily').value;
            const unicodeDisplays = document.querySelectorAll('.unicode-display');
            unicodeDisplays.forEach(display => {
                display.style.fontFamily = fontFamily + ', Arial, sans-serif';
            });
        }

        // Font size change
        function changeFontSize() {
            const fontSize = document.getElementById('fontSize').value;
            const unicodeDisplays = document.querySelectorAll('.unicode-display');
            unicodeDisplays.forEach(display => {
                display.style.fontSize = fontSize + 'px';
            });
        }

        // Export to PDF
        function exportToPDF() {
            const content = `
                Input: ${document.getElementById('inputText').value}
                English: ${document.getElementById('englishOutput').textContent}
                Sinhala: ${document.getElementById('sinhalaOutput').textContent}
                Unicode: ${document.getElementById('unicodeValues').textContent}
            `;
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'singlish_translation.txt';
            a.click();
            URL.revokeObjectURL(url);
            showStatus('Translation exported as text file', 'success');
        }

        // Export to JSON
        function exportToJSON() {
            const data = {
                input: document.getElementById('inputText').value,
                english: document.getElementById('englishOutput').textContent,
                sinhala: document.getElementById('sinhalaOutput').textContent,
                unicode: document.getElementById('unicodeValues').textContent,
                timestamp: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'singlish_translation.json';
            a.click();
            URL.revokeObjectURL(url);
            showStatus('Translation exported as JSON', 'success');
        }

        // Export to TXT
        function exportToTXT() {
            const content = `Singlish Translation Export
Generated: ${new Date().toLocaleString()}

Input Text (Singlish):
${document.getElementById('inputText').value}

English Translation:
${document.getElementById('englishOutput').textContent}

Sinhala Unicode:
${document.getElementById('sinhalaOutput').textContent}

Unicode Values:
${document.getElementById('unicodeValues').textContent}
`;
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'singlish_translation.txt';
            a.click();
            URL.revokeObjectURL(url);
            showStatus('Translation exported as TXT', 'success');
        }

        // Show status message
        function showStatus(message, type) {
            const statusElement = document.getElementById('statusMessage');
            statusElement.textContent = message;
            statusElement.className = `status-message status-${type}`;
            statusElement.style.opacity = '1';
            
            setTimeout(() => {
                statusElement.style.opacity = '0';
            }, 3000);
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            
            // Add sample text for demonstration
            const sampleTexts = [
                'ayubowan mama kohomada',
                'mama adarei oya',
                'mama kanna ona',
                'stutiyi mama yanna ona',
                'honda raathriya'
            ];
            
            // Add sample text button
            const sampleBtn = document.createElement('button');
            sampleBtn.className = 'btn btn-accent';
            sampleBtn.textContent = 'üìù Try Sample Text';
            sampleBtn.onclick = function() {
                const randomSample = sampleTexts[Math.floor(Math.random() * sampleTexts.length)];
                document.getElementById('inputText').value = randomSample;
                translateText();
                showStatus('Sample text loaded!', 'success');
            };
            
            document.querySelector('.controls').appendChild(sampleBtn);
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey || e.metaKey) {
                    switch(e.key) {
                        case 'Enter':
                            e.preventDefault();
                            translateText();
                            break;
                        case 'l':
                            e.preventDefault();
                            clearAll();
                            break;
                        case 's':
                            e.preventDefault();
                            exportToTXT();
                            break;
                    }
                }
            });
            
            // Add input validation
            document.getElementById('inputText').addEventListener('input', function(e) {
                const value = e.target.value;
                if (value.length > 5000) {
                    e.target.value = value.substring(0, 5000);
                    showStatus('Maximum 5000 characters allowed', 'error');
                }
            });
            
            // Add auto-save feature
            setInterval(function() {
                const inputText = document.getElementById('inputText').value;
                if (inputText) {
                    const autoSaveData = {
                        input: inputText,
                        timestamp: new Date().toISOString()
                    };
                    // Store in memory (since localStorage is not available)
                    window.autoSaveData = autoSaveData;
                }
            }, 30000); // Auto-save every 30 seconds
            
            showStatus('Singlish Translator Ready!', 'success');
        });

        // Advanced language detection
        function detectLanguage(text) {
            const sinhalaChars = /[\u0D80-\u0DFF]/;
            const englishChars = /[a-zA-Z]/;
            
            if (sinhalaChars.test(text)) {
                return 'sinhala';
            } else if (englishChars.test(text)) {
                return 'english';
            } else {
                return 'mixed';
            }
        }

        // Enhanced translation with context
        function enhancedTranslate(text, sourceLanguage, targetLanguage) {
            // Add context-aware translation logic here
            // This is a placeholder for more advanced translation features
            return translateText();
        }

        // Add pronunciation guide
        function addPronunciationGuide() {
            const pronunciationDict = {
                'ayubowan': 'ah-yu-bo-wan',
                'kohomada': 'ko-ho-ma-da',
                'adarei': 'ah-da-rey',
                'stutiyi': 'stu-ti-yi'
            };
            
            // This can be expanded to show pronunciation for translated text
            return pronunciationDict;
        }

        // Add word frequency analysis
        function analyzeWordFrequency(text) {
            const words = text.toLowerCase().split(/\s+/);
            const frequency = {};
            
            words.forEach(word => {
                frequency[word] = (frequency[word] || 0) + 1;
            });
            
            return frequency;
        }

        // Add translation confidence scoring
        function calculateTranslationConfidence(originalText, translatedText) {
            // Simple confidence calculation based on dictionary matches
            const words = originalText.toLowerCase().split(/\s+/);
            let matchedWords = 0;
            
            words.forEach(word => {
                if (singlishDict[word] || englishSinhalaDict[word]) {
                    matchedWords++;
                }
            });
            
            return words.length > 0 ? (matchedWords / words.length) * 100 : 0;
        }

        // Add multi-language support indicator
        function updateLanguageIndicator() {
            const inputText = document.getElementById('inputText').value;
            const detectedLanguage = detectLanguage(inputText);
            
            // Update UI to show detected language
            document.getElementById('translationStatus').textContent = `Detected: ${detectedLanguage}`;
        }

        // Enhanced copy functionality with format options
        function copyWithFormat(elementId, format) {
            const element = document.getElementById(elementId);
            const text = element.textContent || element.value;
            
            let formattedText = text;
            
            switch(format) {
                case 'plain':
                    formattedText = text;
                    break;
                case 'markdown':
                    formattedText = `\`\`\`\n${text}\n\`\`\``;
                    break;
                case 'html':
                    formattedText = `<div>${text}</div>`;
                    break;
                case 'unicode':
                    formattedText = text.split('').map(char => 
                        `U+${char.charCodeAt(0).toString(16).toUpperCase().padStart(4, '0')}`
                    ).join(' ');
                    break;
            }
            
            navigator.clipboard.writeText(formattedText).then(() => {
                showStatus(`Text copied as ${format}!`, 'success');
            });
        }

        // Add real-time spell check
        function spellCheckSinglish(text) {
            const words = text.split(/\s+/);
            const suggestions = [];
            
            words.forEach(word => {
                const normalizedWord = word.toLowerCase();
                if (!singlishDict[normalizedWord] && word.length > 2) {
                    // Find similar words
                    const similarWords = Object.keys(singlishDict).filter(dictWord => 
                        levenshteinDistance(normalizedWord, dictWord) <= 2
                    );
                    
                    if (similarWords.length > 0) {
                        suggestions.push({
                            original: word,
                            suggestions: similarWords.slice(0, 3)
                        });
                    }
                }
            });
            
            return suggestions;
        }

        // Levenshtein distance for spell checking
        function levenshteinDistance(str1, str2) {
            const matrix = [];
            
            for (let i = 0; i <= str2.length; i++) {
                matrix[i] = [i];
            }
            
            for (let j = 0; j <= str1.length; j++) {
                matrix[0][j] = j;
            }
            
            for (let i = 1; i <= str2.length; i++) {
                for (let j = 1; j <= str1.length; j++) {
                    if (str2.charAt(i - 1) === str1.charAt(j - 1)) {
                        matrix[i][j] = matrix[i - 1][j - 1];
                    } else {
                        matrix[i][j] = Math.min(
                            matrix[i - 1][j - 1] + 1,
                            matrix[i][j - 1] + 1,
                            matrix[i - 1][j] + 1
                        );
                    }
                }
            }
            
            return matrix[str2.length][str1.length];
        }
    </script>
</body>
</html>
            